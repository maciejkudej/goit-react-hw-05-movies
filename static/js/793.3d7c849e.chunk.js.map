{"version":3,"file":"static/js/793.3d7c849e.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/movieDetails/MovieDetails.module.css?3b61","pages/movieDetails/MovieDetails.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"MovieDetails_section__cLNd9\",\"movieCard\":\"MovieDetails_movieCard__7W4YH\",\"cardListItem\":\"MovieDetails_cardListItem__Q-Law\",\"linkGoBack\":\"MovieDetails_linkGoBack__zAc95\",\"navLinks\":\"MovieDetails_navLinks__ymnrh\",\"imgMain\":\"MovieDetails_imgMain__qbXJg\"};","import { Outlet, Link, useParams, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport { getMoviesById } from 'services/api';\nimport css from './MovieDetails.module.css';\nimport { Radio } from 'react-loader-spinner';\n\nconst MoviesDetails = () => {\n  const [movieData, setMovieData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState('');\n  const { moviesId } = useParams();\n  const location = useLocation;\n  const backLink = location?.state?.from ?? '/';\n\n  useEffect(() => {\n    if (!moviesId) return;\n    const fetchMovie = async () => {\n      setError('');\n      try {\n        const data = await getMoviesById(moviesId);\n\n        setMovieData(data);\n      } catch (error) {\n        setError('There is something wrong in your action');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchMovie();\n  }, [moviesId]);\n  useEffect(() => {\n    if (!error) return;\n    toast.error(error);\n  }, [error]);\n\n  return (\n    <section className={css.section}>\n      {movieData && (\n        <>\n          <Link className={css.linkGoBack} to={backLink}>\n            GO BACK\n          </Link>\n          <div className={css.movieCard}>\n            <img\n              className={css.imgMain}\n              src={`https://image.tmdb.org/t/p/w200${movieData.poster_path}`}\n              alt=\"movie poster\"\n            />\n\n            <div>\n              <ul>\n                <li className={css.cardListItem}>\n                  <h1>{`${\n                    movieData.original_title\n                  }(${movieData.release_date?.slice(0, 4)})`}</h1>\n                  <div>{`User score: ${\n                    movieData.vote_average?.toFixed() * 10\n                  }%`}</div>\n                </li>\n                <li className={css.cardListItem}>\n                  <h2> Overview</h2>\n                  <div>{movieData.overview}</div>\n                </li>\n                <li className={css.cardListItem}>\n                  <h2> Genres</h2>\n                  {movieData.genres?.map(g => g.name).join(', ')}\n                </li>\n              </ul>\n            </div>\n          </div>\n          <h3>Additional information</h3>\n          <ul className={css.navLinks}>\n            <li>\n              <Link to=\"cast\" state={{ from: backLink }}>\n                Cast\n              </Link>\n            </li>\n            <li>\n              <Link to=\"reviews\" state={{ from: backLink }}>\n                Reviews\n              </Link>\n            </li>\n          </ul>\n          <Outlet />\n        </>\n      )}\n      {isLoading && (\n        <Radio\n          ariaLabel=\"loading-indicator\"\n          height={100}\n          width={100}\n          strokeWidth={5}\n          strokeWidthSecondary={1}\n          color=\"blue\"\n          secondaryColor=\"white\"\n        />\n      )}\n    </section>\n  );\n};\nexport default MoviesDetails;\n","import axios from 'axios';\n\nconst API_KEY = '259df17d3f26a67b233d16c7dad06e96';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = { api_key: API_KEY };\n\nexport async function getTranding() {\n  const { data } = await axios.get('/trending/movie/week');\n  return data;\n}\nexport async function getMovieByQuery(query, page = 1) {\n  const params = { query, language: 'en-US', page };\n  const { data } = await axios.get('/search/movie', { params });\n  return data;\n}\nexport async function getMoviesById(id) {\n  const { data } = await axios.get(`/movie/${id}`);\n  return data;\n}\nexport async function getCast(id) {\n  const { data } = await axios.get(`/movie/${id}/credits`);\n  return data.cast;\n}\nexport async function getReviews(id) {\n  const { data } = await axios.get(`/movie/${id}/reviews`);\n  return data.results;\n}\n"],"names":["useState","movieData","setMovieData","isLoading","setIsLoading","error","setError","moviesId","useParams","location","useLocation","backLink","state","from","useEffect","fetchMovie","getMoviesById","data","toast","className","css","to","src","poster_path","alt","original_title","release_date","slice","vote_average","toFixed","overview","genres","map","g","name","join","ariaLabel","height","width","strokeWidth","strokeWidthSecondary","color","secondaryColor","getTranding","axios","getMovieByQuery","query","page","params","language","id","getCast","cast","getReviews","results","api_key"],"sourceRoot":""}